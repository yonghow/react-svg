!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("react-dom/server")):"function"==typeof define&&define.amd?define(["react","react-dom/server"],e):(t=t||self).ReactSVG=e(t.React,t.ReactDOMServer)}(this,(function(t,e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var r=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i};var n,i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},o=function(t){return t.cloneNode(!0)},a=function(){return"file:"===window.location.protocol},l=new Map,s={},c=function(t,e){s[t]=s[t]||[],s[t].push(e)},u=function(t){for(var e=function(e,r){setTimeout((function(){if(Array.isArray(s[t])){var r=l.get(t),n=s[t][e];(r instanceof SVGSVGElement||r instanceof HTMLElement)&&n(null,o(r)),r instanceof Error&&n(r),e===s[t].length-1&&delete s[t]}}),0)},r=0,n=s[t].length;r<n;r++)e(r)},f=0,p=[],d={},h="http://www.w3.org/1999/xlink",v=function(t,e,r,n,i,s){var v=t.getAttribute("data-src")||t.getAttribute("src");if(v&&/\.svg/i.test(v)){if(-1!==p.indexOf(t))return p.splice(p.indexOf(t),1),void(t=null);p.push(t),t.setAttribute("src",""),function(t,e,r){if(l.has(t)){var n=l.get(t);return n instanceof SVGSVGElement||n instanceof HTMLElement?void r(null,o(n)):n instanceof Error?void r(n):void c(t,r)}l.set(t,void 0),c(t,r);var i=new XMLHttpRequest;i.withCredentials=e,i.onreadystatechange=function(){try{if(4===i.readyState){if(404===i.status||null===i.responseXML)throw new Error(a()?"Note: SVG injection ajax calls do not work locally without adjusting security setting in your browser. Or consider using a local webserver.":"Unable to load SVG file: "+t);if(!(200===i.status||a()&&0===i.status))throw new Error("There was a problem injecting the SVG: "+i.status+" "+i.statusText);i.responseXML instanceof Document&&i.responseXML.documentElement&&l.set(t,i.responseXML.documentElement),u(t)}}catch(e){l.set(t,e),u(t)}},i.open("GET",t),i.overrideMimeType&&i.overrideMimeType("text/xml"),i.send()}(v,i,(function(i,o){if(!o)return p.splice(p.indexOf(t),1),t=null,void s(i);var a=t.getAttribute("id");a&&o.setAttribute("id",a);var l=t.getAttribute("title");l&&o.setAttribute("title",l);var c=t.getAttribute("width");c&&o.setAttribute("width",c);var u=t.getAttribute("height");u&&o.setAttribute("height",u);var m=Array.from(new Set(function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,l=o.length;a<l;a++,i++)n[i]=o[a];return n}((o.getAttribute("class")||"").split(" "),["injected-svg"],(t.getAttribute("class")||"").split(" ")))).join(" ").trim();o.setAttribute("class",m);var g=t.getAttribute("style");g&&o.setAttribute("style",g),o.setAttribute("data-src",v);var b=[].filter.call(t.attributes,(function(t){return/^data-\w[\w-]*$/.test(t.name)}));if(Array.prototype.forEach.call(b,(function(t){t.name&&t.value&&o.setAttribute(t.name,t.value)})),r){var w,y,A,S,E={clipPath:["clip-path"],"color-profile":["color-profile"],cursor:["cursor"],filter:["filter"],linearGradient:["fill","stroke"],marker:["marker","marker-start","marker-mid","marker-end"],mask:["mask"],path:[],pattern:["fill","stroke"],radialGradient:["fill","stroke"]};Object.keys(E).forEach((function(t){y=E[t];for(var e=function(t,e){var r;S=(A=w[t].id)+"-"+ ++f,Array.prototype.forEach.call(y,(function(t){for(var e=0,n=(r=o.querySelectorAll("["+t+'*="'+A+'"]')).length;e<n;e++){var i=r[e].getAttribute(t);i&&!i.match(new RegExp("url\\(#"+A+"\\)"))||r[e].setAttribute(t,"url(#"+S+")")}}));for(var n=o.querySelectorAll("[*|href]"),i=[],a=0,l=n.length;a<l;a++){var s=n[a].getAttributeNS(h,"href");s&&s.toString()==="#"+w[t].id&&i.push(n[a])}for(var c=0,u=i.length;c<u;c++)i[c].setAttributeNS(h,"href","#"+S);w[t].id=S},r=0,n=(w=o.querySelectorAll(t+"[id]")).length;r<n;r++)e(r)}))}o.removeAttribute("xmlns:a");for(var x,k,j=o.querySelectorAll("script"),G=[],M=0,I=j.length;M<I;M++)(k=j[M].getAttribute("type"))&&"application/ecmascript"!==k&&"application/javascript"!==k&&"text/javascript"!==k||((x=j[M].innerText||j[M].textContent)&&G.push(x),o.removeChild(j[M]));if(G.length>0&&("always"===e||"once"===e&&!d[v])){for(var C=0,V=G.length;C<V;C++)new Function(G[C])(window);d[v]=!0}var O=o.querySelectorAll("style");Array.prototype.forEach.call(O,(function(t){t.textContent+=""})),o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("xmlns:xlink",h),n(o),t.parentNode&&t.parentNode.replaceChild(o,t),p.splice(p.indexOf(t),1),t=null,s(null,o)}))}else s(new Error("Attempted to inject a file with a non-svg extension: "+v))};!function(t){t.Always="always",t.Once="once",t.Never="never"}(n||(n={}));var m=function(o){function a(){var t;return(t=o.apply(this,arguments)||this).initialState={hasError:!1,isLoading:!0},t.state=t.initialState,t._isMounted=!1,t.refCallback=function(e){t.container=e},t}i(a,o);var l=a.prototype;return l.renderSVG=function(){var r=this;if(this.container instanceof Node){var i=this.props,o=i.beforeInjection,a=i.evalScripts,l=i.renumerateIRIElements,s=i.src,c=i.withCredentials,u=this.props.afterInjection,f=this.props.wrapper,p=document.createElement(f);p.innerHTML=e.renderToStaticMarkup(t.createElement(f,null,t.createElement(f,{"data-src":s}))),this.svgWrapper=this.container.appendChild(p.firstChild);!function(t,e){var r=void 0===e?{}:e,i=r.afterAll,o=void 0===i?function(){}:i,a=r.afterEach,l=void 0===a?function(){}:a,s=r.beforeEach,c=void 0===s?function(){}:s,u=r.evalScripts,f=void 0===u?n.Never:u,p=r.renumerateIRIElements,d=void 0===p||p,h=r.withCredentials,m=void 0!==h&&h;if(t&&"length"in t)for(var g=0,b=0,w=t.length;b<w;b++)v(t[b],f,d,c,m,(function(e,r){l(e,r),t&&"length"in t&&t.length===++g&&o(g)}));else t?v(t,f,d,c,m,(function(e,r){l(e,r),o(1),t=null})):o(0)}(this.svgWrapper.firstChild,{afterEach:function(t,e){t&&r.removeSVG(),r._isMounted&&r.setState((function(){return{hasError:!!t,isLoading:!1}}),(function(){u(t,e)}))},beforeEach:o,evalScripts:a,renumerateIRIElements:l,withCredentials:c})}},l.removeSVG=function(){this.container instanceof Node&&this.svgWrapper instanceof Node&&(this.container.removeChild(this.svgWrapper),this.svgWrapper=null)},l.componentDidMount=function(){this._isMounted=!0,this.renderSVG()},l.componentDidUpdate=function(t){var e=this;(function(t,e){for(var r in t)if(!(r in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1})(t,this.props)&&this.setState((function(){return e.initialState}),(function(){e.removeSVG(),e.renderSVG()}))},l.componentWillUnmount=function(){this._isMounted=!1,this.removeSVG()},l.render=function(){var e=this.props,n=e.fallback,i=e.loading,o=e.wrapper,a=r(e,["afterInjection","beforeInjection","evalScripts","fallback","loading","renumerateIRIElements","src","wrapper"]);return t.createElement(o,Object.assign({},a,{ref:this.refCallback}),this.state.isLoading&&i&&t.createElement(i,null),this.state.hasError&&n&&t.createElement(n,null))},a}(t.Component);return m.defaultProps={afterInjection:function(){},beforeInjection:function(){},evalScripts:"never",fallback:null,loading:null,renumerateIRIElements:!0,wrapper:"div"},m}));
//# sourceMappingURL=react-svg.umd.production.js.map
